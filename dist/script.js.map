{"version":3,"sources":["main.js"],"names":["initializeYoutubeApi","Promise","resolve","reject","tag","document","createElement","id","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onerror","window","onYouTubeIframeAPIReady","createIFrame","data","iframe","setAttribute","width","height","allow","insertVideo","videoContainer","querySelector","class","appendChild","onload","initializePlayer","iframeId","onPlayerStateChange","player","then","YT","Player","events","onReady","onError","onStateChange","error","initializeVideo","play","screensaver","getPlayer","event","PlayerState","ENDED","style","display","classList","add","addEventListener","frame","remove","playVideo","console","getNumber","str","num","String","match","Array","isArray","updateArrowState","arrow","condition","disabledClass","contains","setNotEmptyInputs","querySelectorAll","forEach","input","e","target","value","initializeSlider","moveTo","slide","offset","isMobile","innerWidth","GUTTER_WIDTH","sliderContainer","marginLeft","concat","slideNumber","innerText","arrowLeft","arrowRight","COUNT_OF_SLIDES","length","toggleClass","controlId","className","element","getElementById","checked","toggleTheme","body","toggleMenu","svgPollyfill","test","navigator","userAgent","call","svg","object","use","getAttribute","replaceChild"],"mappings":"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","file":"script.js","sourcesContent":["\nconst initializeYoutubeApi = () => new Promise((resolve, reject) => {\n\tconst tag = document.createElement('script');\n  \ttag.id = 'iframe-demo';\n  \ttag.src = 'https://www.youtube.com/iframe_api';\n  \tconst firstScriptTag = document.getElementsByTagName('script')[0];\n\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\ttag.onerror = reject;\n\twindow.onYouTubeIframeAPIReady = resolve;\n});\n\nconst createIFrame = (data) => {\n\tconst iframe = document.createElement('iframe');\n\n\tiframe.setAttribute(\"id\", data.id);\n\tiframe.setAttribute(\"width\", data.width);\n\tiframe.setAttribute(\"height\", data.height);\n\tiframe.setAttribute(\"src\", data.src);\n\tiframe.setAttribute(\"allow\", data.allow);\n\tiframe.setAttribute(\"class\", data.class);\n\n\treturn iframe;\n};\n\nconst insertVideo = (id) => new Promise((resolve, reject) => {\n\tconst videoContainer = document.querySelector('.player__iframe-container');\n\tconst iframe = createIFrame({\n\t\tid: id,\n\t\twidth: \"812\",\n\t\theight: \"502\",\n\t\tsrc: \"https://www.youtube.com/embed/vnbN9V_2Guk?enablejsapi=1&&autohide=1=0&controls=0&modestbranding=1\",\n\t\tallow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n\t\tclass: \"player__iframe--hidden\",\n\t});\n\n\tvideoContainer.appendChild(iframe);\n\n\tiframe.onload = () => {\n\t\tresolve(iframe);\n\t};\n\tiframe.onerror = reject;\n});\n\nconst initializePlayer = (iframeId, onPlayerStateChange) => {\n\tlet player;\n\n\treturn () => Promise.resolve().then(\n\t\t() => {\n\t\t\tif (!window.YT) {\n\t\t\t\treturn initializeYoutubeApi();\n\t\t\t}\n\t\t}\n\t).then(() => new Promise((resolve, reject) => {\n\t\ttry {\n\t\t\tif (player) {\n\t\t\t\treturn resolve(player);\n\t\t\t}\n\n\t\t\tplayer = new YT.Player(iframeId, {\n\t\t\t\tevents: {\n\t\t\t\t\t'onReady': () => {\n\t\t\t\t\t\tresolve(player);\n\t\t\t\t\t},\n\t\t\t\t\t'onError': reject,\n\t\t\t\t\t'onStateChange': onPlayerStateChange\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t}));\n};\n\nconst initializeVideo = () => {\n\tconst play = document.querySelector('.player__control--play');\n\tconst screensaver = document.querySelector('.player__screen-placeholder');\n\tlet iframe;\n\n\tconst onPlayerStateChange = (event) => {\n\t\tif (\n\t\t\tevent.data == YT.PlayerState.ENDED\n\t\t) {\n\t\t\tscreensaver.style.display = 'block';\n\t\t\tplay.style.display = 'block';\n\t\t\tiframe.classList.add('player__iframe--hidden');\n\t\t}\n\t};\n\n\tconst getPlayer = initializePlayer('video', onPlayerStateChange);\n\n\tplay.addEventListener('click', () => {\n\t\tPromise.resolve().then(() => {\n\t\t\tif (iframe) {\n\t\t\t\treturn iframe;\n\t\t\t}\n\n\t\t\treturn insertVideo('video');\n\t\t}).then(frame => {\n\t\t\tiframe = frame;\n\n\t\t\treturn getPlayer();\n\t\t}).then(player => {\n\t\t\tscreensaver.style.display = 'none';\n\t\t\tplay.style.display = 'none';\n\t\t\tiframe.classList.remove('player__iframe--hidden');\n\t\t\tplayer.playVideo();\n\t\t}).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t});\n};\n\nconst getNumber = (str) => {\n\tconst num = String(str).match('/(\\d+)/');\n\n\tif (!Array.isArray(num)) {\n\t\treturn 0;\n\t}\n\n\treturn +num[1];\n};\n\nconst updateArrowState = (arrow, condition) => {\n\tconst disabledClass = 'slider-controls__arrow--disabled';\n\n\tif (condition) {\n\t\tarrow.classList.add(disabledClass);\n\t} else if (arrow.classList.contains(disabledClass)) {\n\t\tarrow.classList.remove(disabledClass);\n\t}\n};\n\nconst setNotEmptyInputs = () => {\n\tdocument.querySelectorAll('.form__input').forEach(input => {\n\t\tinput.addEventListener('change', (e) => {\n\t\t\tif (e.target.value) {\n\t\t\t\te.target.classList.add('form__input--not-empty');\n\t\t\t} else {\n\t\t\t\te.target.classList.remove('form__input--not-empty');\n\t\t\t}\n\t\t});\n\t});\n};\n\nconst initializeSlider = () => {\n\tconst slideNumber = document.querySelector('.slider-controls__current-number');\n\tconst arrowLeft = document.querySelector('.slider-controls__arrow--left');\n\tconst arrowRight = document.querySelector('.slider-controls__arrow--right');\n\tconst sliderContainer = document.querySelector('.slider__container');\n\n\tconst SLIDE_WIDTH = 468;\n\tconst GUTTER_WIDTH = 10;\n\tconst getSlideWidth = width => width + (GUTTER_WIDTH * 2);\n\tconst COUNT_OF_SLIDES = sliderContainer.querySelectorAll('.slider__slide').length;\n\n\tlet slide = getNumber(slideNumber.innerText) || 1;\n\n\tconst moveTo = (slide) => {\n\t\tconst isMobile = window.innerWidth <= 600;\n\t\tconst offset = getSlideWidth(\n\t\t\tisMobile ? (window.innerWidth * 0.95) : SLIDE_WIDTH\n\t\t) * (slide - 1);\n\n\t\tsliderContainer.style.marginLeft = `${-offset}px`;\n\t\tslideNumber.innerText = `${slide}`;\n\n\t\tupdateArrowState(arrowLeft, slide === 1);\n\t\tupdateArrowState(arrowRight, slide === COUNT_OF_SLIDES);\n\t};\n\n\tarrowRight.addEventListener('click', (e) => {\n\t\tif (slide >= COUNT_OF_SLIDES) {\n\t\t\treturn;\n\t\t}\n\n\t\tmoveTo(++slide);\n\t});\n\n\tarrowLeft.addEventListener('click', (e) => {\n\t\tif (slide <= 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tmoveTo(--slide);\n\t});\n};\n\nconst toggleClass = (controlId, className, element) => {\n\tconst button = document.getElementById(controlId);\n\tbutton.addEventListener('change', (e) => {\n\t\tif (e.target.checked) {\n\t\t\telement.classList.add(className);\n\t\t} else {\n\t\t\telement.classList.remove(className);\n\t\t}\n\t});\n};\n\nconst toggleTheme = () => {\n\ttoggleClass('theme-button', 'theme-is-black', document.body);\n};\n\nconst toggleMenu = () => {\n\ttoggleClass('menu-button', 'navigation--show', document.querySelector('.navigation'));\n};\n\nconst svgPollyfill = () => {\n\tif (!/MSIE|Trident/.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\t\n\t[].forEach.call(document.querySelectorAll('svg'), svg => {\n\t\tconst use = svg.querySelector('use'); \n\t\n\t\tif (use) {\n\t\t\tconst object = document.createElement('object');\n\t\t\tobject.data = use.getAttribute('xlink:href');\n\t\t\tobject.className = svg.getAttribute('class');\n\t\t\tsvg.parentNode.replaceChild(object, svg);\n\t\t}\n\t});\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tinitializeVideo();\n\tinitializeSlider();\n\tsetNotEmptyInputs();\n\ttoggleTheme();\n\ttoggleMenu();\n\tsvgPollyfill();\n});\n"]}