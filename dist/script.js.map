{"version":3,"sources":["main.js"],"names":["initializeYoutubeApi","Promise","resolve","reject","tag","document","createElement","id","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","onerror","window","onYouTubeIframeAPIReady","onYoutubeReady","play","querySelector","screensaver","ready","error","player","YT","Player","events","onReady","onError","onStateChange","event","data","PlayerState","ENDED","style","display","addEventListener","openInNewTab","getVideoUrl","playVideo","url","open","focus","then"],"mappings":"aACA,IAAMA,qBAAuB,WAAA,OAAM,IAAIC,QAAQ,SAACC,EAASC,GACxD,IAAMC,EAAMC,SAASC,cAAc,UACjCF,EAAIG,GAAK,cACTH,EAAII,IAAM,qCACV,IAAMC,EAAiBJ,SAASK,qBAAqB,UAAU,GACjED,EAAeE,WAAWC,aAAaR,EAAKK,GAE5CL,EAAIS,QAAUV,EACdW,OAAOC,wBAA0Bb,KAG5Bc,eAAiB,WACtB,IAAMC,EAAOZ,SAASa,cAAc,0BAC9BC,EAAcd,SAASa,cAAc,+BACvCE,GAAQ,EACRC,GAAQ,EAUNC,EAAS,IAAIC,GAAGC,OAAO,QAAS,CAC/BC,OAAQ,CACdC,QAAW,WACVN,GAAQ,GAETO,QAAW,WACVN,GAAQ,GAEPO,cAhByB,SAACC,GAE3BA,EAAMC,MAAQP,GAAGQ,YAAYC,QAE7Bb,EAAYc,MAAMC,QAAU,QAC5BjB,EAAKgB,MAAMC,QAAU,aAcvBjB,EAAKkB,iBAAiB,QAAS,WAC1Bd,EACHe,aAAad,EAAOe,eAIhBjB,IAILD,EAAYc,MAAMC,QAAU,OAC5BjB,EAAKgB,MAAMC,QAAU,OACrBZ,EAAOgB,gBAIHF,aAAe,SAACG,GACXzB,OAAO0B,KAAKD,EAAK,UACvBE,SAGLpC,SAAS8B,iBAAiB,mBAAoB,WAC7CnC,uBAAuB0C,KAAK1B","file":"script.js","sourcesContent":["\nconst initializeYoutubeApi = () => new Promise((resolve, reject) => {\n\tconst tag = document.createElement('script');\n  \ttag.id = 'iframe-demo';\n  \ttag.src = 'https://www.youtube.com/iframe_api';\n  \tconst firstScriptTag = document.getElementsByTagName('script')[0];\n\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\ttag.onerror = reject;\n\twindow.onYouTubeIframeAPIReady = resolve;\n});\n\nconst onYoutubeReady = () => {\n\tconst play = document.querySelector('.player__control--play');\n\tconst screensaver = document.querySelector('.player__screen-placeholder');\n\tlet ready = false;\n\tlet error = false;\n\n\tconst onPlayerStateChange = (event) => {\n\t\tif (\n\t\t\tevent.data == YT.PlayerState.ENDED\n\t\t) {\n\t\t\tscreensaver.style.display = 'block';\n\t\t\tplay.style.display = 'block';\n\t\t}\n\t};\n\tconst player = new YT.Player('video', {\n        events: {\n\t\t'onReady': () => {\n\t\t\tready = true;\n\t\t},\n\t\t'onError': () => {\n\t\t\terror = true;\n\t\t},\n\t\t  'onStateChange': onPlayerStateChange\n        }\n\t});\n\tplay.addEventListener('click', () => {\n\t\tif (error) {\n\t\t\topenInNewTab(player.getVideoUrl());\n\t\t\treturn;\n\t\t}\n\n\t\tif (!ready) {\n\t\t\treturn;\n\t\t}\n\n\t\tscreensaver.style.display = 'none';\n\t\tplay.style.display = 'none';\n\t\tplayer.playVideo();\n\t});\n};\n\nconst openInNewTab = (url) => {\n\tvar win = window.open(url, '_blank');\n\twin.focus();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tinitializeYoutubeApi().then(onYoutubeReady);\n});\n"]}