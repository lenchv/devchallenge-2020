{"version":3,"sources":["main.js","polyfills.js"],"names":["tag","onYouTubeIframeAPIReady","tid","setAttribute","initializeVideo","window","addEventListener","createIFrame","document","createElement","data","screensaver","hash","classList","xhr","url","events","origin","onPlayerStateChange","observeIfDone","inProgressCount","iframe","debouncedCheck","unobserveChanges","observer","insertVideo","observe","resolve","reject","videoContainer","attributes","disconnect","removeEventListener","appendChild","documentElement","attrUpdateFunc","spec","useEl","setAttributeNS","xlinkNS","hasAttribute","updateArrowState","onerror","uses","getElementsByTagName","setNotEmptyInputs","querySelectorAll","base","href","remove","i","getAttributeNS","getAttribute","split","querySelector","sliderContainer","bcr","right","top","bottom","width","height","isHidden","slideNumber","moveTo","getSlideWidth","cache","isMobile","arrowLeft","COUNT_OF_SLIDES","undefined","XMLHttpRequest","Request","getOrigin","origin2","error","withCredentials","XDomainRequest","onload","body","x","innerHTML","responseText","svg","getNumber","position","match","style","overflow","insertBefore","firstChild","onloadFunc","onErrorTimeout","ontimeout","open","getElementById","length","setTimeout","toggleMenu","className","abort","initializeYoutubeApi","a","loc","protocol","Promise","player","winLoad","object","toggleTheme","require","module","exports","global","nextHandle","tasksByHandle","currentlyRunningATask","doc","setImmediate","html","channel","messagePrefix","attachTo","addFromSetImmediateArguments","args","partiallyApplied","apply","handler","slice","call","arguments","Function","runIfPresent","handle","task","clearImmediate","onGlobalMessage","event","source","indexOf","Object","getPrototypeOf","toString","process","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","Math","random","attachEvent","MessageChannel","port1","port2","script","onreadystatechange","removeChild","STATUS","VALUE","ON_FUlFILLED","ON_REJECTED","ORIGINAL_ERROR","PENDING","INTERNAL_PENDING","FULFILLED","REJECTED","NOT_ARRAY","REQUIRES_NEW","isArray","Array","anything","prototype","InternalError","originalError","this","isInternalError","isCallable","isPromise","identity","value","thrower","reason","clearAllQueues","promise","callEach","queue","toPromise","then","resolvePromise","resolver","rejectPromise","fulfillPromise","TypeError","onFulfilled","onRejected","nextPromise","tryCall","func","asyncOnFulfilled","asyncOnRejected","push","race","values","all","fulfilledCount","promiseCount","index","self"],"mappings":"oaAMG,wBAGFA,IACOC,EARRC,E,EAeQC,E,EA0DFC,E,EAlEL,oBAAAC,QAAAA,OAAAC,mBACOL,EAAAA,OAAAA,OAAP,M,aAGKM,aAAeL,GACRA,EAAGM,WAASC,EAAc,MAG/BN,EAAsBO,a,iCA0DxBN,EAAkB,WACb,IAAGI,EACPG,EAESC,E,EAKPF,EAICG,EACPC,EA3CFC,EAeGC,EACCC,EAoBEC,EAAsB,EAA5B,SAAAC,IA9DA,IACOhB,EAyEwB,MAFhBiB,IAGJP,IAxEJQ,OAAPf,iBAAA,SAAAgB,GAAA,GAVDjB,OAAAC,iBAAA,oBAAAgB,GAAA,GAkBUC,E,0BALOC,EAAXC,IAAAA,iBAAcH,IAAoBI,QAACC,SAASC,gBAAW,CACtDC,WAAiBrB,EACRD,SAAY,EAACuB,YAAA,IAAA,WAItB,IACEN,EAAAO,aACA1B,OAAA2B,oBAAA,SAAAV,GAAA,GANRjB,OAAA2B,oBAAA,oBAAAV,GAAA,GASeW,MAAAA,QAGNZ,SAARa,gBAAA5B,iBAAA,qBAAAgB,GAAA,GADD,W,wEAGAjB,OAAA2B,oBAAA,SAAAV,GAAA,GAhBmBjB,OAAA2B,oBAAA,oBAAAV,GAAA,MAyEhB,SAAAa,EAAAC,GACA,OAAA,Y,gBAEiBA,EAACC,MAAnBC,eAAAC,EAAA,aAAA,IAAAH,EAAAxB,MACYwB,EAAIC,MAAAG,aAAA,SAChBJ,EAAAC,MAAAlC,aAAA,OAAA,IAAAiC,EAAAxB,Q,cA0BG6B,OAAmB,WACL3B,EAAG4B,QAAA,K,iBAEPvB,K,IAGRN,IANR8B,EAAAnC,SAAAoC,qBAAA,O,qBAUMC,IACWrC,EAAQmC,EAACG,GAAAA,wBAClBxC,MAAAA,GAEKO,GAAT,EAUYkC,GAdhBhC,GAMIiC,EAASnC,EAAUoC,GAAAA,aAAO,SAC1BN,EAAAO,GAAAC,eAAAZ,EAAA,SALFI,EAAAO,GAAAE,aAAA,gBADDJ,EAAAK,MADDL,EAAAK,MAAA,KAYyB,CAAA,GAAA,KAEGC,GACX1C,EAAGJ,EAAQ,GACrB+C,EAAkB/C,GAAuB,IAAd8C,EAAAA,MAAc,IAAAE,EAAAC,OAA/C,IAAAD,EAAAE,KAAA,IAAAF,EAAAG,OAEoBH,GAApB,IAAAA,EAAAI,OAAA,IAAAJ,EAAAK,SAAAC,GAGwBP,EAAAA,GAAAA,aAAgBT,SAElBiB,EAAAA,GAAAA,eAAVxB,EAAZ,aAAAS,GAEMgB,EAAAA,UAML,KAJeC,EAAaC,EAC3BC,KAMgBC,WAAgBjC,EAAjC,CACgBE,MAAkBM,EAAK0B,GAVxCtB,KAAAA,E,SAa4B,QAE1BuB,IAAAxD,IAtIFC,EAuIEgC,EAvHE9B,EADDD,OAAAA,EAAQX,OAAAkE,iBAIPC,EAAW5C,IAAAA,eACXX,EAAAwD,EAAiBvD,UALVwD,EAAAD,EAAA1D,GAQD4D,OATRL,IAAAE,EAAAI,iBAAA,KAAAF,GAAAA,IAAAzD,EASe4D,qBAAAP,EAEfC,qB,IAvBFC,IAuIC1D,EAAA,IAvID0D,GAkIAN,EAAAnB,GAAAjC,GAQAgE,OA5EQ,SAAkBhE,GACdD,OAAAA,WACDA,IAATkE,EAAAvE,SAA0BuE,KAC1BC,EAAAxE,SAAAC,cAAA,KAEckE,EAAAA,OAAd,KAlBDK,EAAAC,UAAAnE,EAAAoE,cAHDC,EAAAH,EAAApC,qBAAA,OAAA,M,qCA0BiBuC,EAAZC,MAAYC,SAAS,WACFC,EAAAA,MAAM1B,MAA9B,E,iBAEKuB,EAAoBI,MAAAC,SAAA,SACxBT,EAAAU,aAAAN,EAAAJ,EAAAW,a,KA8DmCC,CAAO7E,GAC1BA,EAAA4B,QAAAkD,EAAA9E,GACfA,EAAA+E,UAAAD,EAAA9E,GACAA,EAAAgF,KAAA,MAAA/C,G,SAED3B,GAAA,MAKuB2E,EAWIhD,EAAAiD,QAAjB9B,EAAmC1D,IAD/CyF,WAAA9D,EAAA,C,WAIM+D,KAAAA,EACMtF,KAAgBA,IAD5B,QAbmC0D,IAAVJ,EAAxBnB,GAEwBoD,EAAAA,IAAtB,EACMjC,EAAAnB,GAAA+B,SAHRZ,EAAAnB,GAAAqD,eAFDlC,EAAAnB,GAAA+B,O,SAhJI,SAAOuB,EAAAA,GACP,IAAAC,E,YAEIhC,IAAAiC,EAAAC,SAAUC,EAAJF,GAEXD,EAAY9F,SAAAC,cAAA,MACJkB,KAAQ+E,E,mCA+JjB/D,EAAA,GACAvB,GAAA,E,kBAKAf,OAAS2B,oBAAA,OAAA2E,GAAA,GACFC,EAAMX,WAAYxF,EAAc,IAEf2C,aAAjB5C,SAAC2F,WAEP9F,OAAAC,iBAAA,OAAAqG,GAAA,G,KA7NA,IAqOFE,IAAAA,EAAAA,CAAAA,SAAWC,EAAAC,EAAAC,gB,i0GC3OZ,YACA,SAAAC,EAAA3C,gBAGA,IAIA4C,EACAC,EACAC,EACAC,EACAC,EA8GAC,EAdAC,EAvBAC,EAgEAC,EAvIA,SAAAC,EAAAC,GAEA,OADAT,EAAAD,GAAAW,EAAAC,MAAAxD,EAAAsD,GACAV,IAKA,SAAAW,EAAAE,GACA,IAAAH,EAAA,GAAAI,MAAAC,KAAAC,UAAA,GACA,OAAA,WACA,mBAAAH,EACAA,EAAAD,MAAAxD,EAAAsD,GAEA,IAAAO,SAAA,GAAAJ,EAAA,IAKA,SAAAK,EAAAC,GAGA,GAAAjB,EAGAnB,WAAA4B,EAAAO,EAAAC,GAAA,OACA,CACA,IAAAC,EAAAnB,EAAAkB,GACA,GAAAC,EAAA,CACAlB,GAAA,EACA,IACAkB,IACA,QACAC,EAAAF,GACAjB,GAAA,KAMA,SAAAmB,EAAAF,UACAlB,EAAAkB,GAgCA,SAAAG,EAAAC,GACAA,EAAAC,SAAAzB,GACA,iBAAAwB,EAAA/H,MACA,IAAA+H,EAAA/H,KAAAiI,QAAAlB,IACAW,GAAAK,EAAA/H,KAAAsH,MAAAP,EAAAzB,SAtFAiB,EAAAK,eAIAJ,EAAA,EAEAE,IADAD,EAAA,IAEAE,EAAAJ,EAAAzG,SA0IAkH,GADAA,EAAAkB,OAAAC,gBAAAD,OAAAC,eAAA5B,KACAS,EAAAzB,WAAAyB,EAAAT,EA3FAK,EA8FA,qBAAA,GAAAwB,SAAAb,KAAAhB,EAAA8B,SA9FA,WACA,IAAAV,EAAAV,EAAAO,WAEA,OADAa,QAAAC,SAAAnB,EAAAO,EAAAC,IACAA,GAIA,WAGA,GAAApB,EAAAgC,cAAAhC,EAAAiC,cAAA,CACA,IAAAC,GAAA,EACAC,EAAAnC,EAAAoC,UAMA,OALApC,EAAAoC,UAAA,WACAF,GAAA,GAEAlC,EAAAgC,YAAA,GAAA,KACAhC,EAAAoC,UAAAD,EACAD,GAgFAG,IAvEA7B,EAAA,gBAAA8B,KAAAC,SAAA,IASAvC,EAAA3G,iBACA2G,EAAA3G,iBAAA,UAAAkI,GAAA,GAEAvB,EAAAwC,YAAA,YAAAjB,GAGA,WACA,IAAAH,EAAAV,EAAAO,WAEA,OADAjB,EAAAgC,YAAAxB,EAAAY,EAAA,KACAA,IAyDApB,EAAAyC,iBApDAlC,EAAA,IAAAkC,gBACAC,MAAAN,UAAA,SAAAZ,GAEAL,EADAK,EAAA/H,OAIA,WACA,IAAA2H,EAAAV,EAAAO,WAEA,OADAV,EAAAoC,MAAAX,YAAAZ,GACAA,IA+CAhB,GAAA,uBAAAA,EAAA5G,cAAA,WA1CA8G,EAAAF,EAAAnF,gBACA,WACA,IAAAmG,EAAAV,EAAAO,WAGA2B,EAAAxC,EAAA5G,cAAA,UAQA,OAPAoJ,EAAAC,mBAAA,WACA1B,EAAAC,GACAwB,EAAAC,mBAAA,KACAvC,EAAAwC,YAAAF,GACAA,EAAA,MAEAtC,EAAAtF,YAAA4H,GACAxB,IAKA,WACA,IAAAA,EAAAV,EAAAO,WAEA,OADAjC,WAAA4B,EAAAO,EAAAC,GAAA,GACAA,GA8BAX,EAAAJ,aAAAA,EACAI,EAAAa,eAAAA,GA7KA,CA8KA,IAAAJ,SAAA,cAAA,IASA,SAAAlB,gBAEA,IAAA+C,EAAA,oBACAC,EAAA,mBACAC,EAAA,kBACAC,EAAA,iBACAC,EAAA,oBACAC,EAAA,UACAC,EAAA,mBACAC,EAAA,YACAC,EAAA,WACAC,EAAA,gBACAC,EAAA,sCAGApD,EAAAL,EAAAK,cAAAR,QAAA,UAAAQ,aACAqD,EAAAC,MAAAD,SAAA,SAAAE,GACA,MAAA,kBAAAjC,OAAAkC,UAAAhC,SAAAb,KAAA4C,IAGA,SAAAE,EAAAC,GACAC,KAAAb,GAAAY,EAGA,SAAAE,EAAAL,GACA,OAAAA,aAAAE,EAQA,SAAAI,EAAAN,GACA,MAAA,mBAAAA,EAGA,SAAAO,EAAAP,GACA,OAAAA,aAAApE,EAGA,SAAA4E,EAAAC,GACA,OAAAA,EAGA,SAAAC,EAAAC,GACA,MAAAA,EAYA,SAAAC,EAAAC,UACAA,EAAAxB,UACAwB,EAAAvB,GAGA,SAAAwB,EAAAC,GAGA,IAFA,IACA5F,EAAA4F,EAAA5F,OACA9C,EAAA,EAAAA,EAAA8C,EAAA9C,IACA0I,EAAA1I,KAIA,SAAA+E,EAAAtG,EAAAC,EAAA0J,GACA,IAAAT,EAAAgB,EAAAP,GACAF,EAAAP,GACAA,EAAAiB,KAAAnK,EAAAC,GACAsJ,EAAAL,GACAjJ,EAAAiJ,EAAAT,IAEAzI,EAAA2J,GAIA,SAAAO,EAAAhB,GACA,IAAAiB,EAvDAjB,EAwDA,GAAAO,EAAAP,GACA,OAAAA,EAEA,GA3DAA,EA2DAA,EAzDAjC,OAAAiC,KAAAA,EAyDA,CACA,IACAiB,EAAAjB,EAAAiB,KACA,MAAAnH,GACA,OAAA,IAAAoG,EAAApG,GAEA,GAAAwG,EAAAW,GACA,OAAA,IAAArF,EAAA,SAAA9E,EAAAC,GACA0F,EAAA,WACA,IACAwE,EAAA7D,KAAA4C,EAAAlJ,EAAAC,GACA,MAAA+C,GACA/C,EAAA+C,QAMA,OAAA,KAGA,SAAAoH,EAAAL,EAAAM,GAMA,SAAApK,EAAA4J,GACAE,EAAA1B,IAAAK,GACA4B,EAAAP,EAAAF,GAGA,IACAQ,EAXA,SAAAV,GACAI,EAAA1B,IAAAK,IAgBA,SAAA6B,EAAAR,EAAAJ,GAEA,IAAAT,EAAAgB,EAAAP,GACAF,EAAAP,IACAa,EAAA1B,GAAAM,EACAO,EAAAiB,KACA,SAAAR,GACAY,EAAAR,EAAAJ,IAEA,SAAAE,GACAS,EAAAP,EAAAF,MAGAN,EAAAL,GACAoB,EAAAP,EAAAb,EAAAT,KAEAsB,EAAA1B,GAAAO,EACAmB,EAAAzB,GAAAqB,GACAM,EAAAF,EAAAxB,KACA0B,EAAA5F,SACAyF,EAAAC,GACAC,EAAAC,KApCAM,CAAAR,EAAAJ,IASA1J,GACA,MAAA+C,GACA/C,EAAA+C,IA8BA,SAAAsH,EAAAP,EAAAF,GACA,IAAAI,EAAAF,EAAAvB,GACAuB,EAAA1B,GAAAQ,EACAkB,EAAAzB,GAAAuB,EACAI,GAAAA,EAAA5F,SACAyF,EAAAC,GACAC,EAAAC,IAIA,SAAAnF,EAAAuF,GAEA,IAAAZ,EADAH,MAEA,MAAA,IAAAkB,UAAAzB,GAFAO,KAIAjB,GAAAK,EAJAY,KAKAhB,QAAA3F,EACAyH,EANAd,KAMAe,GAGAvF,EAAAqE,UAAAgB,KAAA,SAAAM,EAAAC,GACA,IACAC,EADAZ,EAAAT,KAoCA,OAlCAmB,EAAAjB,EAAAiB,GAAAA,EAAAf,EACAgB,EAAAlB,EAAAkB,GAAAA,EAAAd,EACAe,EAAA,IAAA7F,EAAA,SAAA9E,EAAAC,GACA,SAAA2K,EAAAC,GACA,IAAAlB,EACA,IACAA,EAAAkB,EAAAd,EAAAzB,IACA,MAAAtF,GAEA,YADA/C,EAAA+C,GAGA2G,IAAAgB,EACA1K,EAAA,IAAAuK,UA9KA,wDAgLAlE,EAAAtG,EAAAC,EAAA0J,GAGA,SAAAmB,IACAnF,EAAAiF,EAAAH,GAEA,SAAAM,IACApF,EAAAiF,EAAAF,GAEA,OAAAX,EAAA1B,IACA,KAAAO,EACAkC,IACA,MACA,KAAAjC,EACAkC,IACA,MACA,QA5JAN,EA6JAK,EA7JAJ,EA6JAK,GA7JAhB,EA6JAA,GA5JAxB,KACAwB,EAAAxB,GAAA,GACAwB,EAAAvB,GAAA,IAEAuB,EAAAxB,GAAAyC,KAAAP,GACAV,EAAAvB,GAAAwC,KAAAN,GANA,IAAAX,EAAAU,EAAAC,KAmKA5F,EAAAqE,UAAA,MAAA,SAAAuB,GACA,OAAApB,KAAAa,KAAAT,EAAAgB,IAGA5F,EAAA9E,QAAA,SAAA2J,GACA,IAAAT,EAAAgB,EAAAP,GACA,OAAAF,EAAAP,GACAA,EAEA,IAAApE,EAAA,SAAA9E,EAAAC,GACAsJ,EAAAL,GACAjJ,EAAAiJ,EAAAT,IAEAzI,EAAA2J,MAKA7E,EAAA7E,OAAA,SAAA4J,GACA,OAAA,IAAA/E,EAAA,SAAA9E,EAAAC,GACAA,EAAA4J,MAIA/E,EAAAmG,KAAA,SAAAC,GACA,OAAA,IAAApG,EAAA,SAAA9E,EAAAC,GACA,IAAAsB,EACA8C,EACA,GAAA2E,EAAAkC,GAEA,IADA7G,EAAA6G,EAAA7G,OACA9C,EAAA,EAAAA,EAAA8C,EAAA9C,IACA+E,EAAAtG,EAAAC,EAAAiL,EAAA3J,SAGAtB,EAAA,IAAAuK,UAAA1B,OAKAhE,EAAAqG,IAAA,SAAAD,GACA,OAAA,IAAApG,EAAA,SAAA9E,EAAAC,GACA,IAEAiJ,EACA7E,EACAsF,EACApI,EALA6J,EAAA,EACAC,EAAA,EAKA,GAAArC,EAAAkC,GAAA,CAGA,IADA7G,GADA6G,EAAAA,EAAA7E,MAAA,IACAhC,OACA9C,EAAA,EAAAA,EAAA8C,EAAA9C,IAGAkI,EADAP,EAAAgB,EADAP,EAAAuB,EAAA3J,MAGA8J,IACAnC,EAAAiB,KACA,SAAAmB,GACA,OAAA,SAAA3B,GACAuB,EAAAI,GAAA3B,IACAyB,GACAC,GACArL,EAAAkL,IALA,CAQA3J,GACAtB,IAEAsJ,EAAAL,GACAjJ,EAAAiJ,EAAAT,IAGAyC,EAAA3J,GAAAoI,EAGA0B,GACArL,EAAAkL,QAGAjL,EAAA,IAAAuK,UAAA1B,OAKA,oBAAA1D,QAAAA,OAAAC,QACAD,OAAAC,QAAAC,EAAAR,SAAAA,EACAQ,EAAAR,UACAQ,EAAAR,QAAAA,GA1SA,CA6SAwE,OAEAhD,KACA,iBAAA5H,QAAAA,QACA,iBAAA6M,MAAAA,MACA,iBAAAjG,QAAAA,QACA","file":"script.js","sourcesContent":["const svgxuse = require('svgxuse');\r\n\r\nconst initializeYoutubeApi = () => new Promise((resolve, reject) => {\r\n\tconst tag = document.createElement('script');\r\n  \ttag.id = 'iframe-demo';\r\n  \ttag.src = 'https://www.youtube.com/iframe_api';\r\n  \tconst firstScriptTag = document.getElementsByTagName('script')[0];\r\n\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n\ttag.onerror = reject;\r\n\twindow.onYouTubeIframeAPIReady = resolve;\r\n});\r\n\r\nconst createIFrame = (data) => {\r\n\tconst iframe = document.createElement('iframe');\r\n\r\n\tiframe.setAttribute(\"id\", data.id);\r\n\tiframe.setAttribute(\"width\", data.width);\r\n\tiframe.setAttribute(\"height\", data.height);\r\n\tiframe.setAttribute(\"src\", data.src);\r\n\tiframe.setAttribute(\"allow\", data.allow);\r\n\tiframe.setAttribute(\"class\", data.class);\r\n\r\n\treturn iframe;\r\n};\r\n\r\nconst insertVideo = (id) => new Promise((resolve, reject) => {\r\n\tconst videoContainer = document.querySelector('.player__iframe-container');\r\n\tconst iframe = createIFrame({\r\n\t\tid: id,\r\n\t\twidth: \"812\",\r\n\t\theight: \"502\",\r\n\t\tsrc: \"https://www.youtube.com/embed/vnbN9V_2Guk?enablejsapi=1&&autohide=1=0&controls=0&modestbranding=1\",\r\n\t\tallow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\r\n\t\tclass: \"player__iframe--hidden\",\r\n\t});\r\n\r\n\tvideoContainer.appendChild(iframe);\r\n\r\n\tiframe.onload = () => {\r\n\t\tresolve(iframe);\r\n\t};\r\n\tiframe.onerror = reject;\r\n});\r\n\r\nconst initializePlayer = (iframeId, onPlayerStateChange) => {\r\n\tlet player;\r\n\r\n\treturn () => Promise.resolve().then(\r\n\t\t() => {\r\n\t\t\tif (!window.YT) {\r\n\t\t\t\treturn initializeYoutubeApi();\r\n\t\t\t}\r\n\t\t}\r\n\t).then(() => new Promise((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tif (player) {\r\n\t\t\t\treturn resolve(player);\r\n\t\t\t}\r\n\r\n\t\t\tplayer = new YT.Player(iframeId, {\r\n\t\t\t\tevents: {\r\n\t\t\t\t\t'onReady': () => {\r\n\t\t\t\t\t\tresolve(player);\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'onError': reject,\r\n\t\t\t\t\t'onStateChange': onPlayerStateChange\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treject(error);\r\n\t\t}\r\n\t}));\r\n};\r\n\r\nconst initializeVideo = () => {\r\n\tconst play = document.querySelector('.player__control--play');\r\n\tconst screensaver = document.querySelector('.player__screen-placeholder');\r\n\tconst playIcon = document.querySelector('.player__icon--play');\r\n\tconst preloader = document.querySelector('.player__icon--preloader');\r\n\tlet iframe;\r\n\r\n\tconst onPlayerStateChange = (event) => {\r\n\t\tif (\r\n\t\t\tevent.data == YT.PlayerState.ENDED\r\n\t\t) {\r\n\t\t\tscreensaver.style.display = 'block';\r\n\t\t\tplay.style.display = 'block';\r\n\t\t\tiframe.classList.add('player__iframe--hidden');\r\n\t\t}\r\n\t};\r\n\r\n\tconst getPlayer = initializePlayer('video', onPlayerStateChange);\r\n\r\n\tplay.addEventListener('click', () => {\r\n\t\tpreloader.classList.remove('player__icon--hidden');\r\n\t\tplayIcon.classList.add('player__icon--hidden');\r\n\t\tPromise.resolve().then(() => {\r\n\t\t\tif (iframe) {\r\n\t\t\t\treturn iframe;\r\n\t\t\t}\r\n\r\n\t\t\treturn insertVideo('video');\r\n\t\t}).then(frame => {\r\n\t\t\tiframe = frame;\r\n\r\n\t\t\treturn getPlayer();\r\n\t\t}).then(player => {\r\n\t\t\tscreensaver.style.display = 'none';\r\n\t\t\tplay.style.display = 'none';\r\n\t\t\tiframe.classList.remove('player__iframe--hidden');\r\n\t\t\tpreloader.classList.add('player__icon--hidden');\r\n\t\t\tplayIcon.classList.remove('player__icon--hidden');\r\n\t\t\tplayer.playVideo();\r\n\t\t}).catch(error => {\r\n\t\t\tconsole.error(error);\r\n\t\t});\r\n\t});\r\n};\r\n\r\nconst getNumber = (str) => {\r\n\tconst num = String(str).match('/(\\d+)/');\r\n\r\n\tif (!Array.isArray(num)) {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\treturn +num[1];\r\n};\r\n\r\nconst updateArrowState = (arrow, condition) => {\r\n\tconst disabledClass = 'slider-controls__arrow--disabled';\r\n\r\n\tif (condition) {\r\n\t\tarrow.classList.add(disabledClass);\r\n\t} else if (arrow.classList.contains(disabledClass)) {\r\n\t\tarrow.classList.remove(disabledClass);\r\n\t}\r\n};\r\n\r\nconst setNotEmptyInputs = () => {\r\n\t[].forEach.call(document.querySelectorAll('.form__input'), input => {\r\n\t\tinput.addEventListener('change', (e) => {\r\n\t\t\tif (e.target.value) {\r\n\t\t\t\te.target.classList.add('form__input--not-empty');\r\n\t\t\t} else {\r\n\t\t\t\te.target.classList.remove('form__input--not-empty');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n};\r\n\r\nconst initializeSlider = () => {\r\n\tconst slideNumber = document.querySelector('.slider-controls__current-number');\r\n\tconst arrowLeft = document.querySelector('.slider-controls__arrow--left');\r\n\tconst arrowRight = document.querySelector('.slider-controls__arrow--right');\r\n\tconst sliderContainer = document.querySelector('.slider__container');\r\n\r\n\tconst SLIDE_WIDTH = 468;\r\n\tconst GUTTER_WIDTH = 10;\r\n\tconst getSlideWidth = width => width + (GUTTER_WIDTH * 2);\r\n\tconst COUNT_OF_SLIDES = sliderContainer.querySelectorAll('.slider__slide').length;\r\n\r\n\tlet slide = getNumber(slideNumber.innerText) || 1;\r\n\r\n\tconst moveTo = (slide) => {\r\n\t\tconst isMobile = window.innerWidth <= 600;\r\n\t\tconst offset = getSlideWidth(\r\n\t\t\tisMobile ? (window.innerWidth * 0.95) : SLIDE_WIDTH\r\n\t\t) * (slide - 1);\r\n\r\n\t\tsliderContainer.style.marginLeft = `${-offset}px`;\r\n\t\tslideNumber.innerText = `${slide}`;\r\n\r\n\t\tupdateArrowState(arrowLeft, slide === 1);\r\n\t\tupdateArrowState(arrowRight, slide === COUNT_OF_SLIDES);\r\n\t};\r\n\r\n\tarrowRight.addEventListener('click', (e) => {\r\n\t\tif (slide >= COUNT_OF_SLIDES) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmoveTo(++slide);\r\n\t});\r\n\r\n\tarrowLeft.addEventListener('click', (e) => {\r\n\t\tif (slide <= 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tmoveTo(--slide);\r\n\t});\r\n};\r\n\r\nconst toggleClass = (controlId, className, element) => {\r\n\tconst button = document.getElementById(controlId);\r\n\tbutton.addEventListener('change', (e) => {\r\n\t\tif (e.target.checked) {\r\n\t\t\telement.classList.add(className);\r\n\t\t} else {\r\n\t\t\telement.classList.remove(className);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst toggleTheme = () => {\r\n\ttoggleClass('theme-button', 'theme-is-black', document.body);\r\n};\r\n\r\nconst toggleMenu = () => {\r\n\ttoggleClass('menu-button', 'navigation--show', document.querySelector('.navigation'));\r\n};\r\n\r\nconst svgPollyfill = () => {\r\n\tif (!/MSIE|Trident/.test(navigator.userAgent)) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\t[].forEach.call(document.querySelectorAll('svg'), svg => {\r\n\t\tconst use = svg.querySelector('use'); \r\n\t\r\n\t\tif (use) {\r\n\t\t\tconst object = document.createElement('object');\r\n\t\t\tobject.data = use.getAttribute('xlink:href');\r\n\t\t\tobject.className = svg.getAttribute('class');\r\n\t\t\tsvg.parentNode.replaceChild(object, svg);\r\n\t\t}\r\n\t});\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tinitializeVideo();\r\n\tinitializeSlider();\r\n\tsetNotEmptyInputs();\r\n\ttoggleTheme();\r\n\ttoggleMenu();\r\n});\r\n",null]}